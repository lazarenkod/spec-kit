# Game Progression Specification

**Generated by**: `/speckit.games.progression`
**Genre**: {GENRE}
**Total Levels**: {LEVEL_COUNT}
**Difficulty Model**: {DIFFICULTY_MODEL}
**Flow Channel**: {FLOW_VALIDATION}
**Meta-Depth**: {META_DEPTH}
**Generated**: {TIMESTAMP}

---

## Table of Contents

1. [Metadata](#metadata)
2. [Difficulty Formula](#difficulty-formula)
3. [Component Formulas](#component-formulas)
4. [Level Tiers](#level-tiers)
   - [Tier 1: Tutorial (Levels 1-10)](#tier-1-tutorial-levels-1-10)
   - [Tier 2: Easy (Levels 11-50)](#tier-2-easy-levels-11-50)
   - [Tier 3: Medium (Levels 51-100)](#tier-3-medium-levels-51-100)
   - [Tier 4: Hard (Levels 101-150)](#tier-4-hard-levels-101-150)
   - [Tier 5: Expert (Levels 151-200)](#tier-5-expert-levels-151-200)
5. [Flow Channel Validation](#flow-channel-validation)
6. [Difficulty Slope Validation](#difficulty-slope-validation)
7. [Summary](#summary)

---

## Metadata

| Property | Value |
|----------|-------|
| **Genre** | {GENRE} |
| **Total Levels** | {LEVEL_COUNT} |
| **Difficulty Model** | {DIFFICULTY_MODEL} |
| **Base Difficulty** | {BASE_DIFFICULTY} |
| **Growth Rate** | {GROWTH_RATE} ({GROWTH_PERCENTAGE}% per level) |
| **Flow Channel** | {FLOW_STATUS} |
| **Meta-Progression** | {META_SYSTEMS} |
| **Estimated Completion Time** | {COMPLETION_TIME} hours (first playthrough) |
| **Prestige Completion Time** | {PRESTIGE_TIME} hours (with bonuses) |

---

## Difficulty Formula

### Base Formula

```python
def calculate_difficulty(level: int) -> float:
    base_difficulty = {BASE_DIFFICULTY}
    growth_rate = {GROWTH_RATE}
    return base_difficulty * ((1 + growth_rate) ** (level - 1))
```

**Formula Type**: {DIFFICULTY_MODEL}

**Parameters**:
- **Base Difficulty**: {BASE_DIFFICULTY} (starting difficulty at level 1)
- **Growth Rate**: {GROWTH_RATE} ({GROWTH_PERCENTAGE}% increase per level)
- **Model**: {DIFFICULTY_MODEL} (linear/exponential/logarithmic/s-curve)

**Examples**:
- Level 1: {LEVEL_1_DIFFICULTY}
- Level 10: {LEVEL_10_DIFFICULTY}
- Level 50: {LEVEL_50_DIFFICULTY}
- Level 100: {LEVEL_100_DIFFICULTY}
- Level 200: {LEVEL_200_DIFFICULTY}

---

## Component Formulas

### {COMPONENT_1_NAME} (e.g., Enemy HP)

```python
def {COMPONENT_1_FUNCTION}(level: int, difficulty: float) -> {COMPONENT_1_TYPE}:
    {COMPONENT_1_FORMULA}
    return {COMPONENT_1_RETURN}
```

**Description**: {COMPONENT_1_DESCRIPTION}

**Examples**:
- Level 1: {COMPONENT_1_LEVEL_1}
- Level 50: {COMPONENT_1_LEVEL_50}
- Level 100: {COMPONENT_1_LEVEL_100}
- Level 200: {COMPONENT_1_LEVEL_200}

---

### {COMPONENT_2_NAME} (e.g., Move Limit)

```python
def {COMPONENT_2_FUNCTION}(level: int) -> {COMPONENT_2_TYPE}:
    {COMPONENT_2_FORMULA}
    return {COMPONENT_2_RETURN}
```

**Description**: {COMPONENT_2_DESCRIPTION}

**Examples**:
- Level 1: {COMPONENT_2_LEVEL_1}
- Level 50: {COMPONENT_2_LEVEL_50}
- Level 100: {COMPONENT_2_LEVEL_100}
- Level 200: {COMPONENT_2_LEVEL_200}

---

### {COMPONENT_3_NAME} (e.g., Obstacle Density)

```python
def {COMPONENT_3_FUNCTION}(level: int) -> {COMPONENT_3_TYPE}:
    {COMPONENT_3_FORMULA}
    return {COMPONENT_3_RETURN}
```

**Description**: {COMPONENT_3_DESCRIPTION}

**Examples**:
- Level 1: {COMPONENT_3_LEVEL_1}
- Level 50: {COMPONENT_3_LEVEL_50}
- Level 100: {COMPONENT_3_LEVEL_100}
- Level 200: {COMPONENT_3_LEVEL_200}

---

### {COMPONENT_4_NAME} (e.g., Spawn Rate)

```python
def {COMPONENT_4_FUNCTION}(level: int) -> {COMPONENT_4_TYPE}:
    {COMPONENT_4_FORMULA}
    return {COMPONENT_4_RETURN}
```

**Description**: {COMPONENT_4_DESCRIPTION}

**Examples**:
- Level 1: {COMPONENT_4_LEVEL_1}
- Level 50: {COMPONENT_4_LEVEL_50}
- Level 100: {COMPONENT_4_LEVEL_100}
- Level 200: {COMPONENT_4_LEVEL_200}

---

## Level Tiers

### Tier 1: Tutorial (Levels 1-10)

**Purpose**: Onboarding, teach core mechanics
**Difficulty Range**: {TIER_1_DIFFICULTY_MIN}-{TIER_1_DIFFICULTY_MAX} (growth factor {TIER_1_GROWTH_FACTOR}x)
**Average Completion Time**: {TIER_1_TIME} minutes

**Objectives**:
- Level 1-3: Introduce core mechanics
- Level 4-7: Build basic mastery
- Level 8-10: Combine mechanics, prepare for main game

---

#### Level 1: "{LEVEL_1_NAME}"

**Difficulty**: {LEVEL_1_DIFFICULTY}
**Objective**: {LEVEL_1_OBJECTIVE}

**Mechanics Active**:
{LEVEL_1_MECHANICS}

**Difficulty Components**:
- {COMPONENT_1_NAME}: {LEVEL_1_COMPONENT_1}
- {COMPONENT_2_NAME}: {LEVEL_1_COMPONENT_2}
- {COMPONENT_3_NAME}: {LEVEL_1_COMPONENT_3}
- {COMPONENT_4_NAME}: {LEVEL_1_COMPONENT_4}

**Flow Channel Status**: {LEVEL_1_FLOW_STATUS} (difficulty {LEVEL_1_DIFFICULTY} vs skill {LEVEL_1_SKILL})

**Unlock**: {LEVEL_1_UNLOCK}

**Rewards**:
- Stars: 1-3 (based on performance)
- Coins: {LEVEL_1_COINS}
- XP: {LEVEL_1_XP}

---

#### Level 2: "{LEVEL_2_NAME}"

**Difficulty**: {LEVEL_2_DIFFICULTY}
**Objective**: {LEVEL_2_OBJECTIVE}

**Mechanics Active**:
{LEVEL_2_MECHANICS}

**Difficulty Components**:
- {COMPONENT_1_NAME}: {LEVEL_2_COMPONENT_1}
- {COMPONENT_2_NAME}: {LEVEL_2_COMPONENT_2}
- {COMPONENT_3_NAME}: {LEVEL_2_COMPONENT_3}
- {COMPONENT_4_NAME}: {LEVEL_2_COMPONENT_4}

**Flow Channel Status**: {LEVEL_2_FLOW_STATUS} (difficulty {LEVEL_2_DIFFICULTY} vs skill {LEVEL_2_SKILL})

**Unlock**: {LEVEL_2_UNLOCK}

**Rewards**:
- Stars: 1-3
- Coins: {LEVEL_2_COINS}
- XP: {LEVEL_2_XP}

---

{LEVELS_3_TO_10}

---

### Tier 2: Easy (Levels 11-50)

**Purpose**: Core gameplay loop, build mastery
**Difficulty Range**: {TIER_2_DIFFICULTY_MIN}-{TIER_2_DIFFICULTY_MAX} (growth factor {TIER_2_GROWTH_FACTOR}x)
**Average Completion Time**: {TIER_2_TIME} hours

**Objectives**:
- Level 11-20: Master core mechanics, introduce soft obstacles
- Level 21-30: Introduce hard obstacles, increase complexity
- Level 31-40: Add time pressure, moving elements
- Level 41-50: First boss/challenge level, reward milestone

---

{LEVELS_11_TO_50}

---

### Tier 3: Medium (Levels 51-100)

**Purpose**: Deepen mastery, introduce complexity
**Difficulty Range**: {TIER_3_DIFFICULTY_MIN}-{TIER_3_DIFFICULTY_MAX} (growth factor {TIER_3_GROWTH_FACTOR}x)
**Average Completion Time**: {TIER_3_TIME} hours

**Objectives**:
- Level 51-60: Limited resources, strategic thinking
- Level 61-70: Multiple objectives, multitasking
- Level 71-80: Advanced mechanics, high skill ceiling
- Level 81-90: Environmental hazards, dynamic boards
- Level 91-100: Mid-game boss, prestige system unlock

---

{LEVELS_51_TO_100}

---

### Tier 4: Hard (Levels 101-150)

**Purpose**: Expert gameplay, test mastery
**Difficulty Range**: {TIER_4_DIFFICULTY_MIN}-{TIER_4_DIFFICULTY_MAX} (growth factor {TIER_4_GROWTH_FACTOR}x)
**Average Completion Time**: {TIER_4_TIME} hours

**Objectives**:
- Level 101-115: Complex boards, irregular shapes
- Level 116-130: Hybrid modes, multiple challenges
- Level 131-145: Multi-phase levels, changing conditions
- Level 146-150: Hard boss, skill tree unlock

---

{LEVELS_101_TO_150}

---

### Tier 5: Expert (Levels 151-200)

**Purpose**: Endgame challenge, prestige incentive
**Difficulty Range**: {TIER_5_DIFFICULTY_MIN}-{TIER_5_DIFFICULTY_MAX} (growth factor {TIER_5_GROWTH_FACTOR}x)
**Average Completion Time**: {TIER_5_TIME} hours

**Objectives**:
- Level 151-170: Maximum complexity, all mechanics combined
- Level 171-190: Epic challenges, leaderboard push
- Level 191-200: Ultimate boss, ascension unlock

---

{LEVELS_151_TO_200}

---

## Flow Channel Validation

### Player Skill Growth Model

```python
def player_skill(level: int) -> float:
    base_skill = {BASE_SKILL}
    skill_growth_rate = {SKILL_GROWTH_RATE}
    return base_skill + (level * skill_growth_rate)
```

**Parameters**:
- **Base Skill**: {BASE_SKILL} (starting player competency)
- **Skill Growth Rate**: {SKILL_GROWTH_RATE} (player improvement per level)
- **Growth Type**: {SKILL_GROWTH_TYPE} (linear/exponential)

**Examples**:
- Level 1: {SKILL_LEVEL_1}
- Level 50: {SKILL_LEVEL_50}
- Level 100: {SKILL_LEVEL_100}
- Level 200: {SKILL_LEVEL_200}

---

### Flow Channel Boundaries

**Flow Theory** (Mihaly Csikszentmihalyi):
- **Flow State**: Challenge ≈ Skill ± 20% (optimal engagement)
- **Boredom Zone**: Challenge < Skill - 20% (too easy, disengagement)
- **Anxiety Zone**: Challenge > Skill + 20% (too hard, frustration)

**Boundaries**:
- **Boredom Threshold**: Skill - 20%
- **Anxiety Threshold**: Skill + 20%
- **Optimal Zone**: Skill ± 5%

---

### Validation Results

#### Overall Statistics

| Metric | Value | Status |
|--------|-------|--------|
| **Levels in Flow** | {FLOW_COUNT}/{LEVEL_COUNT} ({FLOW_PERCENTAGE}%) | {FLOW_OVERALL_STATUS} |
| **Levels in Boredom Zone** | {BOREDOM_COUNT}/{LEVEL_COUNT} ({BOREDOM_PERCENTAGE}%) | {BOREDOM_STATUS} |
| **Levels in Anxiety Zone** | {ANXIETY_COUNT}/{LEVEL_COUNT} ({ANXIETY_PERCENTAGE}%) | {ANXIETY_STATUS} |

**Target**: ≥95% in Flow Channel
**Status**: {FLOW_VALIDATION_STATUS}

---

#### Problematic Levels

{IF_BOREDOM_VIOLATIONS}
**Boredom Zone** (Challenge < Skill - 20%):
{BOREDOM_VIOLATIONS_LIST}
{END_IF}

{IF_ANXIETY_VIOLATIONS}
**Anxiety Zone** (Challenge > Skill + 20%):
{ANXIETY_VIOLATIONS_LIST}
{END_IF}

---

#### Adjustments Made

{ADJUSTMENTS_LIST}

---

## Difficulty Slope Validation

### Validation Methodology

**Difficulty Slope** = `difficulty(level+1) / difficulty(level)`

**Target Range**: 0.8 ≤ slope ≤ 1.2

**Rationale**:
- Slope < 0.8: Difficulty drops (regression, bad UX)
- Slope 0.8-1.0: Plateau (acceptable for resting phases)
- Slope 1.0: Perfect continuity (ideal)
- Slope 1.0-1.2: Smooth increase (optimal challenge growth)
- Slope > 1.2: Sudden spike (frustration risk)

---

### Validation Results

#### Overall Statistics

| Metric | Value | Status |
|--------|-------|--------|
| **Total Slopes** | {TOTAL_SLOPES} (levels 1-{LEVEL_COUNT}) | - |
| **Slopes in Range** | {SLOPES_IN_RANGE}/{TOTAL_SLOPES} ({SLOPES_PERCENTAGE}%) | {SLOPES_STATUS} |
| **Violations** | {SLOPES_VIOLATIONS} | {VIOLATIONS_STATUS} |
| **Average Slope** | {AVERAGE_SLOPE} | {AVG_SLOPE_STATUS} |
| **Min Slope** | {MIN_SLOPE} (Level {MIN_SLOPE_LEVEL}) | {MIN_STATUS} |
| **Max Slope** | {MAX_SLOPE} (Level {MAX_SLOPE_LEVEL}) | {MAX_STATUS} |

**Target**: 100% in range 0.8-1.2
**Status**: {SLOPE_VALIDATION_STATUS}

---

#### Slope Violations

{IF_SLOPE_VIOLATIONS}
{SLOPE_VIOLATIONS_LIST}
{ELSE}
✅ No slope violations detected (all 199 slopes within range)
{END_IF}

---

## Summary

### Progression Overview

| Metric | Value |
|--------|-------|
| **Total Levels** | {LEVEL_COUNT} |
| **Difficulty Range** | {MIN_DIFFICULTY} - {MAX_DIFFICULTY} |
| **Total Unlocks** | {TOTAL_UNLOCKS} |
| **Meta-Progression Systems** | {META_SYSTEMS_COUNT} |
| **Quality Gates Passed** | {QG_PASSED}/{QG_TOTAL} |

---

### Time Estimates

| Player Type | Time to Level 100 | Time to Level 200 |
|-------------|-------------------|-------------------|
| **Casual** (no prestige) | {CASUAL_100} hours | {CASUAL_200} hours |
| **Mid-Core** (prestige 5) | {MIDCORE_100} hours | {MIDCORE_200} hours |
| **Hardcore** (prestige 10+) | {HARDCORE_100} hours | {HARDCORE_200} hours |

---

### Retention Targets

| Metric | Target | Rationale |
|--------|--------|-----------|
| **Day 1 Retention** | ≥{D1_TARGET}% | Tutorial completion + first hook |
| **Day 7 Retention** | ≥{D7_TARGET}% | Core loop established |
| **Day 30 Retention** | ≥{D30_TARGET}% | First prestige incentive |
| **Day 90 Retention** | ≥{D90_TARGET}% | Meta-progression engaged |

---

### Quality Gates Status

#### QG-PROGRESSION-001: Difficulty Slope Compliance
- **Status**: {QG_001_STATUS}
- **Threshold**: 0.8 ≤ slope ≤ 1.2
- **Result**: {QG_001_RESULT}

#### QG-PROGRESSION-002: Flow Channel Compliance
- **Status**: {QG_002_STATUS}
- **Threshold**: ≥95% in Flow Channel
- **Result**: {QG_002_RESULT}

#### QG-PROGRESSION-003: Level Count Minimum
- **Status**: {QG_003_STATUS}
- **Threshold**: ≥{TARGET_LEVEL_COUNT} levels
- **Result**: {QG_003_RESULT}

#### QG-PROGRESSION-004: Unlock Gate Pacing
- **Status**: {QG_004_STATUS}
- **Threshold**: New unlock every 5-15 levels
- **Result**: {QG_004_RESULT}

#### QG-PROGRESSION-005: Meta-Progression Depth
- **Status**: {QG_005_STATUS}
- **Threshold**: {META_DEPTH_REQUIREMENT}
- **Result**: {QG_005_RESULT}

---

### Overall Status

**Progression Design Status**: {OVERALL_STATUS}
**Ready for Implementation**: {IMPLEMENTATION_READY}

{IF_ISSUES}
**Issues to Address**:
{ISSUES_LIST}
{END_IF}

---

## Next Steps

1. **Review**: Team review of progression design
2. **Balance Testing**: Playtesting for Flow Channel validation
3. **Implementation**: Handoff to `/speckit.implement`
4. **Iteration**: Adjust based on player feedback

---

**Version**: 1.0.0
**Generated**: {TIMESTAMP}
**Command**: `/speckit.games.progression --genre {GENRE} --level-count {LEVEL_COUNT}`
**Agent**: progression-designer-agent
**Model**: opus (thinking_budget: 120000)

---

## Appendix: Level Data Export

For machine-readable level data, see:
- `difficulty-curve.csv` — Full level stats (200+ rows)
- `unlock-schedule.md` — Unlock timeline
- `meta-progression.md` — Meta-progression systems

---

**End of Progression Specification**
